<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:j="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui">
    <ui:include src="../includes/HeadIncludesPublic.xhtml"/>
    <body>
        <ui:include src="../includes/NavBar.xhtml"/>

        <div class="container">
            <div class="starter-template" style="margin-top: 9%">
                <h:form>
                    <p:growl autoUpdate="true"/>
                    <h2>Cadastrar Viagens</h2>
                    <div class="jumbotron">
                        <div class="form-group">
                            <h:outputLabel for="selectTheCar" styleClass="form-control" value="Selecione o Carro"/>
                            <h:selectOneMenu requiredMessage="É obrigatório selecionar um veículo" required="true" id="selectTheCar" styleClass="form-control" value="#{travelManagedBean.actualCar}">
                                <f:selectItems value="#{travelManagedBean.listOfCars}" var="car" itemLabel="#{car.brand} - #{car.model} - #{car.plate}" itemValue="#{car}"/>
                                <f:converter converterId="ConvertCars"/>
                            </h:selectOneMenu>
                        </div>
                        <div class="form-group">
                            <h:outputLabel for="typeTheDestination" styleClass="form-control" value="Destino"/>
                            <h:inputText id="typeTheDestination" requiredMessage="É necessário inserir um destino" required="true" styleClass="form-control" value="#{travelManagedBean.actualTravel.destination}"/>
                        </div>
                        <div class="form-group">
                            <h:outputLabel for="typeTheDescription" styleClass="form-control" value="Descrição"/>
                            <h:inputTextarea id="typeTheDescription" requiredMessage="Descreva seu objetivo com esta viagem" required="true" rows="7" styleClass="form-control" value="#{travelManagedBean.actualTravel.description}"/>
                        </div>
                    </div>
                    
                    <h5>Preencha o horário da viagem</h5>
                    
                    <div class="jumbotron">
                        <div class="row">
                            <div class="form-group col-md-6">
                                <h:outputLabel  for="initial" styleClass="form-control" value="Horario de saída"/>
                                <p:calendar id="initial" 
                                            required="true" 
                                            requiredMessage="Selecione um data e horario previsto de saída" 
                                            value="#{travelManagedBean.dateInitial}" 
                                            pattern="dd/MM/yyyy HH:mm:ss" 
                                            mode="inline"/>
                            </div>
                            <div class="form-group col-md-6">
                                <h:outputLabel for="end" styleClass="form-control" value="Horario de chegada"/>
                                <p:calendar 
                                            id="end" 
                                            required="true" 
                                            requiredMessage="Selecione um data e horario previsto de chegada" 
                                            value="#{travelManagedBean.dateEnd}" 
                                            pattern="dd/MM/yyyy HH:mm:ss" 
                                            mode="inline"/>
                            </div>
                        </div>
                    </div>

                    <h5>Preencha os usuários que participarão da viagem</h5>
                    <div class="jumbotron form-control" >
                        <p:pickList id="pickList" required="true" requiredMessage="Quem vai nessa viagem? Você deve preencher!" value="#{travelManagedBean.users}"  var="usrs" itemLabel="#{usrs}" itemValue="#{usrs}" />
                    </div>
                    <h:commandButton styleClass="form-control btn btn-primary" style="margin-bottom: 2%" value="Cadastrar" action="#{travelManagedBean.saveTravels()}"/>
                </h:form>
            </div>
        </div>
    </body>
    <ui:include src="../includes/Footer.xhtml"/>
</html>
