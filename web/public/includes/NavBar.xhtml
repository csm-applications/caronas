<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p ="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:form>
        <nav class="navbar navbar-expand-md navbar-dark bg-dark">


            <c:choose>
                <c:when test="#{UserAccountManagedBean.anyoneLoggedIn}">
                    <h:commandLink action="#{travelManagedBean.gotoListTravels()}" class="navbar-brand" >
                        <h:graphicImage alt="carona" name="images/carona.png" class="imgFot" />
                    </h:commandLink>
                    <div class="collapse navbar-collapse">
                        <ul class="navbar-nav mr-auto">
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" id="dropdown01" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Viagens</a>
                                <div class="dropdown-menu" aria-labelledby="dropdown01">
                                    <h:commandLink styleClass="dropdown-item" value="Cadastrar" action="#{travelManagedBean.gotoAddTravel()}"/>
                                    <h:commandLink styleClass="dropdown-item" value="Listar" action="#{travelManagedBean.gotoListTravels()}"/>
                                </div>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" id="dropdown01" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Carros</a>
                                <div class="dropdown-menu" aria-labelledby="dropdown01">
                                    <h:commandLink styleClass="dropdown-item" value="Cadastrar" action="#{CarManagedBean.gotoAddCars()}"/>
                                    <h:commandLink styleClass="dropdown-item" value="Listar" action="#{CarManagedBean.gotoListCars()}"/>
                                </div>
                            </li>
                            <li>
                                <p:commandLink styleClass="nav-link" value="Contatos" action="#{UserAccountManagedBean.gotoListUsers()}"/>
                            </li>
                        </ul>
                        <ul class="navbar-nav">
                            <div class="collapse navbar-collapse">
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" id="dropdown01" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Olá, #{session.getValue('username')}</a>
                                    <div class="dropdown-menu" aria-labelledby="dropdown01">
                                        <h:commandLink styleClass="dropdown-item" value="Meu perfil" action="#{UserAccountManagedBean.gotoEditMyProfile()}"/>
                                        <h:commandLink styleClass="dropdown-item" value="Sair" action="#{UserAccountManagedBean.logout()}"/>
                                    </div>
                                </li>
                            </div>
                        </ul>
                    </div>
                </c:when>
                <c:when test="#{not UserAccountManagedBean.anyoneLoggedIn}">
                    <h:commandLink action="/index.xhtml}" class="navbar-brand" >
                        <h:graphicImage alt="carona" name="images/carona.png" class="imgFot" />
                    </h:commandLink>
                    <div class="collapse navbar-collapse" id="navbarsExampleDefault">
                        <ul class="navbar-nav mr-auto">
                            <li class="nav-item active">
                                <p:commandLink styleClass="nav-link" value="Quem somos nós" action="#{UserAccountManagedBean.gotoAddAccounts()}"/>
                            </li>
                        </ul>
                    </div>
                </c:when>
            </c:choose>

        </nav>
    </h:form>
</ui:composition>
